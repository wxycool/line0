myCtrl.controller("GoodsCtrl", [ "$scope", "$rootScope", "$http", "$window", "$stateParams", function(a, b, c, d, e) {
    function f() {
        //var url = '/data/goods.json?jsonp=getGoods&clientFlag=line0123456789abcdef987opqxyzline0&cityId=' + cityId + '&userX=' + longitude + '&userY=' + latitude + '&productId=' + $stateParams.gid;
        var a = "http://handset.line0.com/ws/handset/v2/shop/productdetail?jsonp=getGoods&clientFlag=line0123456789abcdef987opqxyzline0&cityId=" + cityId + "&userX=" + longitude + "&userY=" + latitude + "&productId=" + e.gid;
        //console.log(url);
        c.jsonp(a).success();
    }
    // 初始化数据
    a.pageClass = "goods", a.title = "商品详情", a.StateGoodsMain = !1, a.StateGoodsRefresh = !0, 
    a.StateGoodsCommentMain = !1, a.StateGoodsCommentRefresh = !0, a.StateGoodsCommentNull = !1;
    var g = !1, h = !1, i = !1;
    // 商品信息
    0 == g && getLocation(f), d.getGoods = function(b) {
        //console.log(data.response);
        a.goods = b.response.product, //console.log($scope.goods.article.length);
        a.goods.ArticleShow = 0 !== a.goods.article.length ? "ArticleShow" : "ArticleNone", 
        a.StateGoodsNav = !a.StateGoodsNav, a.StateGoodsMain = !a.StateGoodsMain, a.StateGoodsRefresh = !a.StateGoodsRefresh, 
        $("img").load(function() {
            $.getScript("lib/other/iscroll-probe.min.js", function() {
                myScrollGoods = new IScroll("#scroller", {
                    tap: !0,
                    preventDefault: !1
                }), document.addEventListener("touchmove", function(a) {
                    a.preventDefault();
                }, !1), g = !0;
            });
        });
    }, // 用户评论
    a.GoodsCommentCtrl = function() {
        if (0 == h) {
            var b = "http://handset.line0.com/ws/handset/v2/shop/productappraises?jsonp=getGoodsComment&pageNum=1&pageRow=200&productId=" + e.gid;
            //console.log(url);
            c.jsonp(b).success(), d.getGoodsComment = function(b) {
                //console.log(data.response);
                a.comments = b.response.comments, a.totalRows = b.response.totalRows, a.StateGoodsCommentMain = !a.StateGoodsCommentMain, 
                a.StateGoodsCommentRefresh = !a.StateGoodsCommentRefresh, 0 == a.totalRows && (a.comments.msg = "暂无评论", 
                a.StateGoodsCommentMain = !1, a.StateGoodsCommentNull = !0), $.getScript("lib/other/iscroll-probe.min.js", function() {
                    myScrollGoods = new IScroll("#scroller", {
                        tap: !0,
                        preventDefault: !1
                    }), document.addEventListener("touchmove", function(a) {
                        a.preventDefault();
                    }, !1), g = !0;
                });
            };
        }
        h = !0;
    }, // 图文详情
    a.GoodsArticleCtrl = function() {
        if (0 == i) {
            var b = "http://handset.line0.com/ws/handset/v2/shop/productdetailpicture?jsonp=getGoodsHTML";
            //console.log(url);
            c.jsonp(b, {
                params: {
                    productId: e.gid
                }
            }).success(), d.getGoodsHTML = function(b) {
                //console.log(data.response);
                a.productImage = b.response.productImageUrl, $("img").load(function() {
                    $.getScript("lib/other/iscroll-probe.min.js", function() {
                        myScrollGoods = new IScroll("#scroller", {
                            tap: !0,
                            preventDefault: !1
                        }), document.addEventListener("touchmove", function(a) {
                            a.preventDefault();
                        }, !1), g = !0;
                    });
                });
            };
        }
        i = !0;
    };
} ]), myCtrl.controller("GoodsNavCtrl", [ "$scope", "$rootScope", "$http", "$window", "$state", "$stateParams", function() {} ]), 
myCtrl.controller("GoodsMainCtrl", [ "$scope", "$rootScope", "$http", "$window", "$stateParams", function() {} ]);